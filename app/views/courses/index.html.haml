- content_for :title do
  Courses

%h1
  Courses
  = @courses.count

.row
  .col-md-3.sidebar
    = search_form_for @q do |f|
      = f.search_field :name_cont, placeholder: 'Course Name', class: 'form-control form-control-sm mb-2'
      = f.search_field :user_email_cont, placeholder: 'User Email', class: 'form-control form-control-sm mb-2'
      = f.search_field :category_name_cont, placeholder: 'Category', class: 'form-control form-control-sm mb-2'
      = f.submit 'Sumbit', class: 'btn btn-sm btn-primary'
    = link_to 'Clear Search', courses_path

    %hr

    %h5
      Categories:
      = @categories.count
    %ol.course-categories
      - @categories.each do |category|
        %li
          = link_to category.name, courses_path(category: category.id), class: "#{active_category(category.id)}"
          %ol
            - category.sub_categories.each do |sub_c|
              %li
                = link_to sub_c, courses_path(category: sub_c.id), class: "#{active_category(sub_c.id)}"

  .col-md-9
    .card-columns#coursesList
      - @courses.each do |course|
        = render 'courses/course', course: course
      - if @courses.count == 0
        %p
          No courses found.
      - else
        != pagy_bootstrap_nav(@pagy)


%br

= link_to 'New Course', new_course_path
